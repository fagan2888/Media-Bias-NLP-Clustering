For one lovely Los Angeles weekend—Independence Day weekend to be exact—legal medical marijuana users shopped for cannabis the way they might shop for fresh strawberries, avocados, and flowers: at a local farmers market.

The West Coast Collective in East L.A. launched the Los Angeles California Heritage Market at its dispensary, allowing medical marijuana users to purchase wares directly from vendors. Customers, all with medical marijuana cards, lined the block waiting to make their purchases.

The collective and organizer Paizley Bradbury planned additional market days, but then the city of Los Angeles stepped in. At the center of the dispute is Proposition D, a local ballot initiative passed in 2013. Pushed on voters by the L.A. City Council, the proposition caps the number of dispensaries at 135, protecting the earliest shops that opened when California voters legalized medical marijuana use.

Bradbury says the West Coast Collective is covered by Proposition D, telling Reason TV: "This is exactly the way the law is written. Patients are supposed to be getting their medicine directly from the growers within the collective and that's exactly what's happening here." But the city argues that the ballot initiative doesn't allow for vendors to sell directly to buyers.

An August hearing scheduled to determine the market's fate went against the West Coast Collective.