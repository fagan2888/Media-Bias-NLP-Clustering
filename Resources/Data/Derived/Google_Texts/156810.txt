KABUL, Afghanistan (AP) â€” Officials say Afghan forces have repelled a Taliban assault on the northern city of Kunduz, which the insurgents had briefly seized last year.

Gen. Qasim Jangalbagh, the provincial police chief, said Saturday that security in Kunduz city has improved and that the Taliban were defeated in other parts of Kunduz province.

Abdul Wasay Basil, spokesman for the provincial governor, said sporadic gunbattles are still underway in the Khanabad and Dashti Archi districts.

The Taliban attacked Kunduz early Friday, setting off hours of fighting. Afghan officials say more than 40 militants and four Afghan forces were killed.

The Taliban held Kunduz for three days last year before being driven out by a two-week counteroffensive aided by U.S.-airstrikes. It was their biggest foray into an urban area since 2001.