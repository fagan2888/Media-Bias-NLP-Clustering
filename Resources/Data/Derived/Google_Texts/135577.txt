HAVANA — Three men who served long U.S. prison terms for spying received a standing ovation in Cuba’s parliament Saturday, shaking their fists in victory as President Raul Castro declared that detente with Washington won’t change the communist system.

The last imprisoned members of the “Cuban Five” spy ring were freed last week in a sweeping deal that included the liberation of American contractor Alan Gross and a Cuban who had spied for the U.S. It as the first step toward the restoration of full diplomatic ties and a loosening of U.S. trade and travel restrictions.

U.S. President Barack Obama said efforts at engagement rather than isolation should encourage reform in Cuba’s one-party system and centrally planned economy.

Castro rejected that idea in his address to the twice-annual meeting of the National Assembly, saying “we must not expect that in order for relations with the United States to improve, Cuba will abandon the ideas that it has struggled for.”

Castro expressed gratitude to Obama for the “just decision” to release Gerardo Hernandez, Antonio Guerrero and Ramon Labanino. The men spied on anti-Castro exile groups in South Florida in the 1990s and have long been regarded as heroes in Cuba.

The president closed his speech with “Viva Fidel!” in reference to his older brother, who has not been seen nor heard from since the historic development was announced on Wednesday, provoking speculation about his health and whereabouts.