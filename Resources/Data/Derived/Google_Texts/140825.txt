NAIROBI (Reuters) - Pope Francis urged young Kenyans on Friday not to yield to the sweet lure of corruption, and urged them to help those tempted by "fanatical" ideologies.

The pope made his appeal in unprepared remarks at his last event in the Kenyan capital before flying to Uganda where he started the second leg of his first trip to the continent.

Arriving in the Ugandan capital of Kampala on Friday evening, he received a tumultuous welcome from ululating dancers and President Yoweri Musevini, wearing his trademark wide-brimmed hat. Tens of thousands of people lined his route into the city in the biggest crowds of the trip so far.

Addressing Musevini and diplomats at State House, Francis spoke of the world refugee crisis and said how the world handles it will be "a test of our humanity, our respect for human dignity and above all our solidarity with our brothers and sisters in need".

The high point of the pope's third day on the continent came earlier in Nairobi, where he scrapped a prepared script to address a packed stadium with the down-to-earth and spontaneous style that has endeared him to Catholics and others around the world.

"The spirit of evil takes us to a lack of unity. It takes to tribalism, corruption and drugs. It takes us to destruction out of fanaticism," the pope said, urging young people not to give in to these vices.

"Let's hold hands together, letâ€™s stand up as a sign against bad tribalism," he said, grasping the hands of two young people on stage.

Tribal loyalties often trump political allegiances in Kenya, and some other African nations, sometimes sparking violence.

After being welcomed into the stadium with rapturous singing and dancing, including by President Uhuru Kenyatta, the first lady and clergy, the pope was cheered throughout his speech.

The president reshuffled his cabinet this week after several ministers were embroiled in corruption allegations.

Corruption "is like sugar, sweet, we like, it's easy," Francis said. "Also in the Vatican there are cases of corruption.

"Please, don't develop that taste for that sugar which is called corruption."

In Kenya, the target of a spate of deadly attacks by Islamist militants, the pope has called for inter-faith dialogue, said God's name can never be invoked to justify violence, and urged world leaders to tackle climate change.

Lack of education and work was a "social danger", pushing some to radical ideologies.

"God is much stronger than any recruitment campaign," he said, adding youths should help potential victims by bringing them into groups or even asking them "to come and watch some football ... Don't allow them to remain on their own."

Earlier he addressed resident of a Nairobi slum of potholed roads, open sewers and rough shacks.

He told slum dwellers, charity workers and clergy in a small church their situation was one of the "wounds inflicted by minorities who cling to power and wealth, who selfishly squander while a growing majority is forced to flee to abandoned, filthy and run-down peripheries."

Francis will stay in Uganda until Sunday, when he is due to travel to the war-torn Central African Republic - his final stop in Africa.

(Writing by Philip Pullella and Edmund Blair; additional reporting by Edith Honan and Elias Biryabarema; Editing by Mark Trevelyan)