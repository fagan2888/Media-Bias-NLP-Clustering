A GOP-controlled Senate panel on Wednesday blocked President Barack Obama's request for $50 million to pay for legal help for unaccompanied immigrant children coming to the United States after fleeing violence in Central America.

Responsible for the move was Republican Sen. Richard Shelby, chief author of a spending bill funding the Justice Department's budget. The measure won initial approval on Wednesday but has a long way to go before becoming law.

The flow of children fleeing gangs and other dangers in Guatemala, Honduras and El Salvador and finding their way to the U.S. is down significantly from last year, when an influx created a humanitarian crisis, in states along the U.S.-Mexico border.

Without lawyers, children are much more likely to be sent back to their home countries. Under federal law, immigrant children have two options to seek legal status, including requesting asylum for fear of returning home to face gang violence.

Without legal help, the maze of documentation and legal requirements is far more difficult for a child to maneuver.

Republicans opposed to people who are in the United States illegally have greater priorities in the $51 billion measure, which also funds the Commerce Department and science-related agencies such as NASA.

The measure is one of 12 annual appropriations bills covering the day-to-day operations of government agencies. Such discretionary spending gets reviewed and funded annually unlike mandatory programs such as Medicare, Social Security and food stamps.

The 12 spending bills are at the center of a fight between Obama and Republicans, who have given the Pentagon almost $40 billion in relief from automatic spending curbs but are resisting Obama's demands for equal treatment for domestic agencies facing a funding freeze.

The battle is particularly bitter in the tea party-driven House. Republicans pressed ahead Wednesday with bills seeking to force further cuts to the agencies they particularly dislike, the IRS and the Environmental Protection Agency.

The House measures are full of provisions aimed at blocking various Obama policies, including implementation of the Affordable Care Act by the IRS and environmental regulations, including protections for the endangered sage grouse that are opposed by Western energy interests.