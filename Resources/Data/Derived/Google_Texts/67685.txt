Republican Arizona state Sen. Sylvia Allen explains her opposition to a children's health insurance bill that was headed to approval on Friday, May 6, 2016 at the Capitol in Phoenix. The passage and Republican Gov. Doug Ducey's pledge to immediately sign it means the state will join 49 others with a version of the federal Children's Health Insurance Program.(AP Photo/Bob Christie)

PHOENIX (AP) — Arizona has joined 49 other states that offer a federal health insurance program for low-income children after backers of the plan pushed it through the Legislature on Friday and Republican Gov. Doug Ducey almost immediately signed it into law.

Known as KidsCare in Arizona, the state’s version of the federal Children’s Health Insurance Program has been frozen since 2010, when lawmakers closed it because of a state budget crunch. It’s expected to provide insurance to 30,000 children whose parents earn between 138 and 200 percent of the federal poverty line, and will do so at no cost to the state at least through 2017.

The effort to restore the program was one of the most contentious of the legislative session, which was poised to end as soon as Friday night. Ducey had remained uncommitted to the legislation despite increasing pressure from many in his own party.

Republican opponents said low-income families would become dependent on handouts if the program was restored. They said the Affordable Care Act was supposed to cover these families, who earn too much to qualify for Medicaid, and rejected backers’ argument that the federal government is paying for the entire cost, noting the large federal deficit.

“We will see the negative consequences happen, because we cannot live our lives on borrowed dollars, we will have to face that sooner or later,” said Sen. Sylvia Allen, R-Snowflake. “And our grandchildren will be the ones to face it and will be the ones who suffer, because we cannot sustain what we are doing.”

But Sen. Bob Worsley, R-Mesa, one of five Senate Republicans who backed the measure, said it was important to make sure that children can get medical care.

“These are children who need health care, who are in the most needy situation,” Worsley said. “And at least currently, this is not costing us anything here in the state. And so I think it made sense and I was passionate about making sure we got it for those sick kids.”

In the end, the bill’s supporters used procedural maneuvers to get the plan passed, tacking it onto a bill in the House and then circumventing Republican Senate President Andy Biggs, who has blocked the legislation since March because he opposes the federal program. The House approved the plan Thursday and Senate on Friday.

The fight was reminiscent of the 2013 effort to embrace Medicaid expansion, a major component of the Affordable Care Act, that left the Republican majority badly split and left lasting damage.

This week’s effort, like the 2013 plan, will leave a mark, lawmakers acknowledge.

“It will take some time to get over again, I’m sure,” said Sen. Bob Worsley, R-Mesa, who backed the plan. “We wanted to do it in a more orderly fashion, but it was being fought at every turn.”

Sen. Steve Yarbrough, R-Chandler, the majority leader, railed against the process backers used in the House and Senate to suspend normal rules and force a vote. He joined 11 other Senate Republicans in opposition.

“I don’t even think it matters how you feel about KidsCare, frankly, because that’s not the issue,” Yarbrough said. “What we are faced with now is frankly great harm to the institution, to the process. To the way the Legislature works. That’s what is being harmed here.”