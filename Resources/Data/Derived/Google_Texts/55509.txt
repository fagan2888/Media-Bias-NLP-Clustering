The House of Representatives today passed the National Defense Authorization Act, which is annual legislation that funds the Department of Defense.

The final version of the legislation stripped out language that would have asked the Pentagon to consider allowing young immigrants who came to the country illegally as children to become eligible for service in the military.

House lawmakers passed the defense bill by a 269-to-151 vote.

House Speaker John Boehner, R-Ohio, said in a statement that “whatever our troops need to get the job done, they should get it, and the House has acted to provide just that.”

“This bill increases troop pay and benefits, reinforces the mission to defeat ISIL, imposes greater restrictions on transferring terrorists, strengthens our cyber defenses, provides lethal aid to Ukraine, boosts our missile defense capabilities, and much more,” Boehner said.

House Minority Leader Nancy Pelosi, D-Calif., criticized the legislation in a statement:

“The Republican defense authorization bill is bad for our budget, bad for our military, and bad for our national security. It perpetuates instability in the defense budget, and undermines the ability of the Defense Department and millions of military families to plan and prepare for the future.”

The final version of NDAA, as the defense bill is known, removed the controversial immigration proposal.

The Daily Signal previously reported that Rep. Ruben Gallego, D-Ariz., had introduced an amendment asking the Pentagon and Defense Secretary Ashton Carter to consider making immigrants who were permitted deferred deportation under President Obama’s Deferred Action for Childhood Arrivals program eligible for service in the military.

Gallego criticized Republicans for not including that language.

“There was no reason to have this fight; this amendment should not have been controversial,” Gallego said in a statement after his amendment failed. “But … extreme anti-immigrant Republicans put their extreme politics ahead of the best interest of our military and our country.”

In a statement, Rep. Dave Brat, R-Va., praised his House colleagues for voting to strip the Gallego amendment in the final version of the legislation:

“In a move that put the American people first, a majority in the House voted for an amendment Rep. Mo Brooks and I co-sponsored that removed language from a national defense spending bill that encouraged our military to actively recruit illegal immigrants. The recruitment push was even more offensive when you consider that the Pentagon is laying off tens of thousands of American troops as it downsizes our armed forces.”

Dan Holler, the communications director at Heritage Action for America, said that the passage of the Brooks amendment “was a good moment for the entire House Republican Conference.”

“Instead of allowing the NDAA to be hijacked, they stood on principle and they all deserve credit,” he said.