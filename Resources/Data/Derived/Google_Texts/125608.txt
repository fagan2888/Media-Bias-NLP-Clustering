A surge in online shopping this holiday season left stores breaking promises to deliver packages by Christmas, suggesting that retailers and shipping companies still haven't fully figured out consumers' buying patterns in the Internet era.

Companies from Amazon.com Inc. to Kohl's Corp. and Wal-Mart Stores Inc., having promised to deliver items before Dec. 25, missed some delivery target dates.

United Parcel Service Inc....