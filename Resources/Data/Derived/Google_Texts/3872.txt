This time, the vote in Congress to send a bill repealing the Affordable Care Act to President Obama’s desk was supposed to be easy.

After trying -- and failing – dozens of times to stop Obamacare since it became law five years ago, Congress, now with a Republican majority, envisioned a pathway to victory in 2015 because the party controlled not only the House, but also the Senate.

Republicans understand that Obama will veto any measure to undo his signature domestic policy accomplishment. But that doesn’t matter. As the party in charge, Republicans believe they owe it to the constituents who put them in office to force the issue.

But yanking about 17 million Americans off health insurance may be easier as a campaign slogan than a policy initiative, and Thursday’s long-awaited vote to pass a repeal bill in the Senate – a first -- proved difficult until the final gavel.

Even the mass shooting in San Bernardino briefly threatened to derail the Obamacare debate as Democrats took over the floor Thursday to push several gun control amendments.

Senate Republicans blocked the Democratic gun-related amendments and narrowly approved the measure to repeal Obamacare by a vote of 52-47. The measure has one more stop at the House before being sent to Obama’s desk.

“President Obama will have a choice: He can defend a status quo that’s failed the middle class by vetoing the bill, or he can work toward a new beginning and better care by signing it," said Senate Majority Leader Mitch McConnell (R-Ky.).

The difficulty in passing the repeal bill was a familiar story of GOP discord. Party leaders had to gut a House-passed repeal bill and cobble together a replacement that would appease the right flank – namely presidential candidates Sen. Ted Cruz (R-Texas) and Sen. Marco Rubio (R-Fla.), who panned earlier attempts as too weak but voted Thursday in favor of the bill.

At the same time, McConnell had to be careful not to lose the support of more moderate-minded members, particularly key senators up for reelection in 2016.

Republicans included a provision to defund Planned Parenthood -- which they hope will also cool enthusiasm among some conservatives to include the abortion-related measure in the upcoming spending fight. But the inclusion of the Planned Parenthood provision caused discomfort among swing state senators who would prefer to focus attention on Obama’s Affordable Care Act.

That provision led Sen. Susan Collins (R-Maine) to vote against the bill.

The Senate passed the measure thanks to the special budget reconciliation procedure that allows the party in power to pass the bill with a simple 51-vote majority in the Senate, rather than the usual 60 votes needed to avoid a filibuster. But due to the GOP internal divisions, even reaching 51 proved to be a challenge for Senate Republicans, who hold 54 seats.

The Senate bill wouldn't fully repeal Obamacare, but it would end some of the law's key provisions. It would remove the mandate to buy health insurance imposed on individuals and on larger employers by reducing the fines for noncompliance to zero.

The bill also would do away with a long list of taxes imposed on wealthy individuals, pricey “Cadillac” insurance plans and health-related industries that help pay to cover the uninsured.

But perhaps most important for conservatives – and most dicey for lawmakers – the bill seeks to end the two avenues that have allowed millions of Americans to gain insurance under the Affordable Care Act.

First, it would do away with the subsidies provided to about 6 million low- and moderate-income Americans to buy their own insurance when they cannot get covered through their employers.

Secondly, the bill would halt Obamacare's expansion of Medicaid for the poor, which has been embraced by 31 states, including some led by Republican governors.

Ending the federal money for subsidies and Medicaid was not part of the House bill.

Realizing the political difficulty of abruptly pulling millions of low-income Americans from their new healthcare coverage, the Senate bill would delay the Medicaid cuts and the termination of subsidies for two years.

But it still made for difficult votes for several GOP senators. Twenty percent of those with insurance in Illinois -- where Republican Sen. Mark Steven Kirk is up for reelection -- are covered through Medicaid. A similar amount are covered in Ohio, where Republican Sen. Rob Portman is seeking reelection. Portman voted for the bill while Kirk voted against it.

Republicans have long vowed to provide an alternative healthcare plan.

“There will be a transition period for the phase-out, and it would give the states an opportunity – with federal assistance -- to address that issue in their own way,” said Sen. John Thune (R-S.D.).

More than 60 votes have been held in the House to repeal or chisel away at the Affordable Care Act since Republicans took control in 2011. Thursday’s vote in the Senate was that chamber's 16th.

Because the Senate had never before passed a repeal bill, none of those efforts made it to Obama’s desk, depriving the GOP of the political bounce they expect by pushing the president into a veto. Democrats say Republicans are pandering to conservatives who want to see the party confront the president.

“They want to do this to satisfy a few radical right-wing people,” said Sen. Harry Reid (D-Nev.), the minority leader.

“Everyone knows this bill can't become law,” he said, calling the proceedings a “total waste of time.”

lisa.mascaro@latimes.com

For the latest from Congress and 2016 campaign follow @LisaMascaro

For more, go to www.latimes.com/politics