U.S. stocks closed mostly higher on Tuesday, led by gains in energy, mining and financial companies.

The Dow Jones industrial average and the Standard & Poor's 500 index eked out small gains. The tech-heavy Nasdaq composite closed modestly lower, reflecting a slump in technology stocks, which were dragged down by Netflix and IBM.

The gains in energy and mining companies came as prices for oil, copper and other basic materials rose.

Investors were mostly focused on the latest batch of corporate earnings and on what company managers have to say about their prospects for growing profits this year.

“The market is focused on where we are going to be three months from now, five months from now,” said Quincy Krosby, market strategist at Prudential Financial. “It's all about the guidance, and it's also all about what companies are doing to beat on the bottom line.”

The Dow rose 49.44 points, or 0.3%, to 18,053.60. The S&P 500 index advanced 6.46 points, or 0.3%, to 2,100.80. The Nasdaq fell 19.69 points, or 0.4%, to 4,940.33.

Expectations for earnings are low this quarter, with corporate profits for companies in the S&P 500 projected to be down 8.1%, according to S&P Global Market Intelligence. Even excluding the beaten-down energy sector, earnings growth for the S&P 500 companies is expected to be down 3.4%.

All of the earnings growth this year is expected to come in the second half of 2016, said Erin Gibbs, equity chief investment officer at S&P Global Market Intelligence.

On Tuesday, several companies delivered quarterly results that put investors in a buying mood.

Johnson & Johnson rose 1.6% to $112.68 after its first-quarter earnings beat Wall Street's expectations. Higher sales of new prescription drugs and other key medicines nearly offset a big hit from the strong dollar.

UnitedHealth Group climbed 2.1% to $130.50 after it reported strong results for the first quarter and raised its guidance for the year. The health insurer also said it would cut back on participating in Affordable Care Act healthcare exchanges in a bid to stem losses related to the program.

Goldman Sachs' latest results also gave the investment bank's shares a lift. Goldman's earnings beat Wall Street's estimates, even though its profit sank 56% from a year earlier. The stock rose 2.3% to $162.65.

Kansas City Southern jumped 4.6% to $96.02 after the railroad operator posted larger-than-expected quarterly earnings.

Some companies' quarterly snapshots and outlooks failed to impress traders.

Netflix slumped 13% to $94.34, a day after the streaming video company gave a disappointing forecast for subscriber additions and reported first-quarter revenue that fell short of financial analysts' forecasts.

IBM delivered improved first-quarter earnings thanks to a big tax refund, but it also had lower revenue amid weaker software sales. The stock slid 5.6% to $144.

Illumina sank 23.2% to $136.88 after the maker of genetic testing tools predicted that first-quarter sales would be far lower than analysts expected.

This week, about 100 of the companies in the S&P 500 are due to report quarterly results.

Beyond earnings, the market pushed up prices for mining and energy companies as the price of oil, natural gas, metals and other materials rose.

Freeport-McMoRan leaped 9% to $12.01, and Newmont Mining rose 4.9% to $30.91.

Williams Cos. was among the energy and drilling services companies to get a boost. It jumped 8% to $18.01. Oneok climbed 6.9% to $34.39. Diamond Offshore Drilling rose 6.3% to $23.76.

Benchmark U.S. crude rose $1.30, or 3.3%, to close at $41.08 a barrel in New York. Brent crude, the international benchmark, gained $1.12, or 2.6%, to close at $44.03 a barrel in London. Natural gas jumped 15 cents, or 7.6%, to close at $2.088 per 1,000 cubic feet.

Upbeat economic data and a rebound in oil prices lifted European markets.

Germany's DAX was up 2.3%, and France's CAC 40 was up 1.3%. Britain's FTSE 100 was up 0.8%. Earlier in Asia, Japan's Nikkei rallied 3.7% after a sharp loss on Monday. South Korea's Kospi rose 0.1%, and Hong Kong's Hang Seng index gained 1.3%.

In other energy trading, wholesale gasoline rose about 4 cents, or 3%, to close at $1.48 a gallon. Heating oil rose 3 cents, or 2.2%, to close at $1.26 a gallon.

Precious and industrial metals futures ended sharply higher. Gold rose $19.30, or 1.6%, to $1,254.30 an ounce, silver advanced 72 cents, or 4.4%, to $16.97 an ounce, and copper rose 6 cents, or 2.7%, to $2.22 a pound.

Bond prices fell. The yield on the 10-year Treasury note rose to 1.79% from 1.77% late Monday.

In currency markets, the yen resumed its slide with the dollar strengthening to 109.13 yen from 108.82 yen. The euro rose to $1.1377 from $1.1314.