The federal government’s funding authorization expires tonight at midnight, and the Republican plan to renew it bodes poorly for the GOP’s leadership of Congress next year.

The proposal: Pass an omnibus spending resolution that funds most of the federal government into October of next year, while passing a separate resolution to fund the Department of Homeland Security just through the end of February. The coalition of Republicans and Democrats supporting the “cromnibus” bill, cobbled together by Republican leadership with hundreds of riders to please both parties, might have been impressive if it weren’t for the fact that it now may be collapsing. (There may be a few days’ funding extension to make time for voting on the overall proposal.)

Congress shouldn’t let the government shut down, but Republicans should neither acquiesce to President Obama’s unprecedented executive power grab nor give up control over the budget for well into the 114th Congress.

Rather than this barnacled bill, Republicans should have offered Senator Harry Reid a short-term funding proposal for all of government besides the federal immigration bureaucracy, and a separate bill to fund the federal immigration bureaucracy that prevents it from implementing the president’s amnesty.

It would be — or would have been — difficult to get Senate Democrats and the president to agree to a bill that blocks or at least hampers the president’s plans. But Republicans should at least have tried, putting themselves on record against the policy and Democrats, effectively, on record in favor of it. That Republican leadership did not try even this small step creates skepticism that they’ll be willing to challenge the president’s order next year, as they say they will.

On top of this, Republicans take control of both chambers in January, so they have no good reason to make a deal with the Senate Democratic leadership that sets spending levels until next October.

There are, as Speaker Boehner has pointed out, some conservative victories in the cromnibus: a bar on funding an insurer bailout in Obamacare, a significant reduction in the barriers to donations to political parties, and more. But none of these things is nearly as important as resisting the president’s executive overreach on immigration and setting conservative budget priorities in the new year.

Republican members ought to vote against the cromnibus, and many of them surely will. If Democrats defect over their displeasure with some other elements of the bill, the measure could fail. The alternative then may be a short-term funding bill into the next year, which would be better than the current plan.

In any case, it’s important that the nascent GOP majority’s first act not be surrender.