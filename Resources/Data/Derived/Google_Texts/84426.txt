U.S. President Barack Obama’s trip to Africa this week culminates a streak of accomplishments that he has achieved at a time in a president’s term when most U.S. leaders are considered powerless “lame ducks,” analysts say.

Before departing for Africa, Obama secured the signing of a historic nuclear deal with Iran that he said “achieved something that decades of animosity has not” – a comprehensive agreement that he said “will prevent it from obtaining a nuclear weapon.”

While the deal made big headlines, pundits call it a big gamble for Obama because its success or failure depends on whether Iran abides by the terms.

“If Iran does break out and does have nuclear weapons, and if they even decide to attack an adversary or anybody, obviously that’s a huge black mark on President Obama and his legacy,” said Daniel Halper, a political writer at The Weekly Standard, a conservative publication that is frequently critical of the president.

FILE - President Barack Obama talks with national security staff in the Oval Office after being notified of the nuclear agreement with Iran, July 13, 2015.

“All of these negotiations will be seen clearly as a failure and he won’t ever be able to overcome that,” Halper said.

Foreign policy successes

Among his foreign policy successes, Obama counts the killing of Osama bin Laden, ending U.S. involvement in Iraq and Afghanistan, and his refusal to send significant numbers of U.S. troops into new conflicts, including the one between the Iraqi government and the Islamic State militant group.

At the same time, the rise of the group has called Obama’s Middle East legacy into question, with some critics saying that refusal to get involved has diminished U.S. power in the region and allowed militants to take over large swaths of territory in Iraq and Syria.

“You have angry, broken, dysfunctional Middle East in Libya and Yemen, in Iraq and in Syria, and while all of that is not the president’s fault, the reality is that when he leaves the White House in 2017, the Middle East is going to look much worse than when he came in 2008,” said Aaron David Miller, a Middle East analyst at the Wilson Center and Mideast peace negotiator at the U.S. Department of State.

“He, fairly or unfairly, is going to get blamed [for] being too risk averse and not being assertive enough,” Miller said.

FILE - U.S. President Barack Obama, right, alongside Vice President Joe Biden, announces plans to reopen a U.S. Embassy in Havana, in the Rose Garden of the White House in Washington, July 1, 2015.

In December, Obama surprised many when he announced his intention to restore diplomatic relations with communist Cuba after a 53-year freeze.

In a statement to reporters in the Rose Garden announcing the reopening of the U.S. Embassy in Havana this month, he said, “A year ago, it might have seemed impossible that the United States would once again be raising our flag, the Stars and Stripes, over an embassy in Havana. This is what change looks like.”

Relations with Congress

Obama has managed to score his recent diplomatic victories despite a notoriously rocky relationship with a Congress with which he has hardly been able to agree on anything.

But the changes may not be enough to seal his legacy, said Miller, who has authored a book called The End of Greatness: Why America Can’t Have (and Doesn’t Want) Another Great President.

“An historic president?” he asked. “Absolutely. An undeniably great president along the lines of Washington in the 18th (century) and Lincoln in the 19th and FDR in the 20th? No.”

Miller, like other analysts, wonders what space Obama will occupy in the pantheon of 43 presidents – and that will depend on more than his foreign policy legacy.

“Right now, that’s very difficult to say,” he said.

Historic

Domestically, his election as the nation’s first black president was historic.

Many Americans credit him with steering the nation away from economic collapse after the biggest downturn since the Great Depression. And he pushed through the Affordable Care Act, known as Obamacare, the largest health care reform law in U.S. history.

Miller and other analysts said Obamacare remains a highly divisive issue among Americans, and its full effects will also not be known for some time.