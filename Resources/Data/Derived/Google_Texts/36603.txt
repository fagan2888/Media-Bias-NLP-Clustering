Republican leaders closed their first year in complete control of Congress with an impressive show of support among their members for spending and tax cuts, avoiding a government shutdown and demonstrating striking party unity despite being unable to rein in President Obama’s expansive agenda.

Lawmakers cleared a nearly $2 trillion package to fund the government and extend popular tax breaks while increasing the federal deficit by hundreds of billions of dollars, as most Republicans linked arms with Democrats to approve and send the compromise to Mr. Obama, who signed it Friday.

House Speaker Paul D. Ryan, Wisconsin Republican, cajoled 150 from his party to join Democrats in voting for the spending measure, earning more support from his usually rebellious troops than Senate Majority Leader Mitch McConnell, Kentucky Republican, was able to manage in the more staid upper chamber.

SEE ALSO: House Speaker Paul Ryan defends massive spending deal, brushes off conservative critics

Mr. Ryan convinced colleagues that while the deal fell short of everything he wanted, it won some permanent victories, including tax breaks and lifting a 40-year-old ban on exporting crude oil, while Democrats won only temporary victories in boosting spending or preventing Republicans from reining in Mr. Obama’s executive actions.

“In divided government, you don’t get everything you want,” Mr. Ryan told NBC’s “Meet the Press” on Sunday. “So we fought for as much as we could get. We advanced our priorities and principles. Not every single one of them, but many of them.”

The bill combined full government funding for fiscal year 2016 with a year-end tax-cuts package that makes permanent some of the most popular breaks, such as the expanded child tax credit for families and the research and development tax credit for businesses.

The measure delays several Obamacare taxes, including the “Cadillac” tax on high-value health care plans from businesses, but mostly leaves intact the health care law, Mr. Obama’s executive actions on immigration and the environment, and his plans to bring 10,000 Syrian refugees into the U.S.

House lawmakers voted on the two parts independently. The tax cuts passed on Republican votes, and the spending passed with support from big majorities in both parties. Senators, meanwhile, approved the package as a whole, on a 65-33 vote, with Republicans evenly split and Democrats providing the heavy lifting.

“By any objective standard, I think the Senate is clearly back to work,” Mr. McConnell said at his year-end press conference.

Mr. Obama signed the legislation, even if he is “not wild about everything in it.”

“It was a good win,” he told reporters before heading to Hawaii for the holidays. “There are some things in there that I don’t like, but that’s the nature of legislation and compromise. And I think the system worked.”

Some conservative lawmakers found plenty to dislike in the bill, saying it missed chances to reel in Mr. Obama.

Indeed, of the members of Congress running for president, just one — Sen. Lindsey Graham, South Carolina Republican — voted for the measure. Republican Sens. Ted Cruz of Texas and Rand Paul of Kentucky rejected the deal, as did Sen. Bernard Sanders of Vermont, who is seeking the Democratic nomination.

Sen. Marco Rubio, a Florida Republican running for president, missed the vote and told CBS News later Friday that “in essence, not voting for it is a vote against it.”

Among its highlights, the deal permanently funds a health care program for 9/11 workers and grants Mr. Obama powers to require some visitors from visa waiver program countries to face extra scrutiny if they have been to Iraq or Syria recently.

The delay in the Obamacare Cadillac tax, coupled with a moratorium on two other taxes designed to pay for the rest of the health care law, represented the biggest hit to the Affordable Care Act’s finances to date.

Democrats fumed that the measure did nothing to help Puerto Rico out of its debt crisis, though Republican leaders soothed those concerns by vowing to craft a solution for the U.S. territory by March 31.

House Minority Leader Nancy Pelosi of California also urged her Democratic troops to look past the provision on oil exports — a near deal-breaker for some in the caucus.

“After long and serious study of the bill’s details, I concluded that while I detest lifting the oil export ban, I will not empower Big Oil to upend so many victories for hard-working American families,” Mrs. Pelosi said in a “dear colleagues” letter.

Her troops fell in line, swayed by the added funding for green energy projects and the fact that most of the restrictions Republicans sought on Mr. Obama’s agenda were omitted.

Mr. Ryan, meanwhile, appears to be enjoying a honeymoon period with his fellow House Republicans, who delivered a larger percentage of supporters than Speaker John A. Boehner was usually able to get.

Mr. Ryan said the big vote tally was a sign that Republicans were ready to be unified.

“They knew I inherited the situation and made the best of it, and they knew this was a big page-turning exercise to get us on the right track to regular order next year. And they knew having a more unified Republican conference makes us stronger going into 2016,” Mr. Ryan told reporters Friday, after the vote.

The biggest lifting on the spending side was in October when Mr. Boehner, before stepping down, agreed to a budget that boosted spending in 2016 and 2017 in exchange for gimmicky cuts later in the decade.

The tax cut was added at the last minute. Mr. Ryan and Mr. McConnell said there is not much chance of Congress tackling big tax reforms next year with Mr. Obama in the White House and insisting that the process be used to get more money from taxpayers.