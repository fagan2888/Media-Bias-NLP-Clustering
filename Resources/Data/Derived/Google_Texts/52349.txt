PESHAWAR, Pakistan (Reuters) - Islamist Taliban militants stormed a university in volatile northwestern Pakistan on Wednesday, killing at least 19 people and wounding dozens as the army hunted for any gunmen still holed up on the campus, officials said.

A security official said the death toll could rise to as high as 40 as army commandos cleared out student hostels and classrooms. A spokesman for the rescue workers, Bilal Ahmad Faizi, said 19 bodies had been recovered including students, guards, policemen and at least one teacher, named by media as chemistry professor Syed Hamid Husain.

Many of the dead were apparently shot in the head execution-style, TV footage showed.

Umar Mansoor, a senior Pakistani Taliban commander and the mastermind of a student massacre in December 2014 at a military-run school in nearby Peshawar, claimed responsibility for the assault and said it involved four of his men.

A senior security officer at the scene told Reuters 90 percent of the campus had been secured after a three-hour gunfight with the militants ended, and that 51 people were wounded. Four gunmen were killed.

The militants, using the cover of thick, wintry fog, scaled the walls of the Bacha Khan University in Charsadda, northwestern Khyber Pakhtunkhwa province, before entering buildings and opening fire on students and teachers in classrooms and hostels, police said.

Students told media they saw several young men wielding AK-47 guns storming the university housing where many students were sleeping.

"They came from behind and there was a big commotion," an unnamed male student told a news channel from a hospital bed in Charsadda's District Hospital. "We were told by teachers to leave immediately. Some people hid in bathrooms."

The gunmen attacked as the university prepared to host a poetry recital on Wednesday afternoon to commemorate the death anniversary of Khan Abdul Ghaffar Khan, a popular ethnic Pashtun independence activist after whom the university is named.

RUMOURS OF ATTACK

Vice Chancellor Fazal Rahim told reporters that the university teaches over 3,000 students and was hosting an additional 600 visitors on Wednesday for the recital.

Police inspector Saeed Wazir said 70 percent of the students had been rescued.

"All students have been evacuated from the hostels, but militants are still hiding in different parts of the university and some students and staff are stuck inside," he said before the firing had stopped, adding that it was unclear how many gunmen were involved.

Television footage showed military vehicles packed with soldiers driving into the campus as helicopters buzzed overhead and ambulances lined up outside the main gate while anxious parents consoled each other.

Shabir Khan, a lecturer in the English department, said he was about to leave his university housing for the department when firing began.

"Most of the students and staff were in classes when the firing began," Khan said. "I have no idea about what's going on but I heard one security official talking on the phone to someone and said many people had been killed and injured."

Several schools had closed early on the weekend around Peshawar after rumors circulated of a possible attack.

Pakistan, which has suffered from years of jihadist militant violence, has killed and arrested hundreds of suspected militants under a major crackdown launched after the massacre of school children in December 2014 in Peshawar.

The school attack by six Pakistani Taliban gunmen hit a raw nerve in Pakistan and was seen as having hardened Pakistan's resolve to fight militants along its lawless border with Afghanistan.

"We are determined and resolved in our commitment to wipe out the menace of terrorism from our homeland," Prime Minister Nawaz Sharif said in a statement after Wednesday's attack.

(Writing by Tommy Wilkes and Mehreen Zahra-Malik; Editing by Nick Macfie)