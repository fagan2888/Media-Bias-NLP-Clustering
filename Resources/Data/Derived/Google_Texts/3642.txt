In major victories for anti-tobacco advocates, the California Assembly voted Thursday to raise the smoking age to 21, regulate electronic cigarettes as tobacco products and take a variety of other steps aiming to restrict access to tobacco.

California would become just the second state to raise the smoking age from 18, joining the state of Hawaii and dozens of cities around the country that have already moved to the higher limit. The move comes days after the San Francisco Board of Supervisors increased the legal age to buy tobacco products to 21.

Ending months of stalling on legislation approved last year in the Senate, Assembly Democrats said the measure will prevent young people from taking up smoking. Proponents say it would make it much harder for teens to get access to tobacco because 18-year-old high school students would not be able to buy it for their underage friends.

“This will save the medical system in the outgoing years millions of dollars,” said Assemblyman Jim Wood, D-Healdsburg. “It will save thousands of lives.”

A landmark study from the prestigious Institute of Medicine reached a similar conclusion in an analysis published last year. The panel found that if the minimum legal age to buy tobacco were raised to 21 nationwide, tobacco use would drop by 12 percent by the time today’s teens reached adulthood. In addition, there would be 223,000 fewer premature deaths and 50,000 fewer deaths from lung cancer,

Republicans said the government should not restrict people’s freedom to make their own decisions.

“I don’t smoke. I don’t encourage my children to,” said Assemblyman Donald Wagner, R-Irvine. “But they’re adults, and it’s our job to treat our citizens as adults, not to nanny them.”

The legal age to purchase alcohol is 21 across the U.S., and most casinos set 21 as the age for gambling. In the four states that have legalized marijuana, 21 is the legal age to purchase.

The age to purchase tobacco would remain 18 for members of the military.

The bills also would require that e-cigarettes be regulated like tobacco products, impose new restrictions on workplace smoking and expand tobacco bans to more schools. Counties would be able to raise their own cigarette taxes beyond the state’s levy of $0.87 per pack.

The bills now return to the Senate, which must approve changes made in the Assembly before the legislation can reach Democratic Gov. Jerry Brown.

Lawmakers approved the tobacco legislation in a special session called last year by Brown to restructure taxes on health plans.