Virginia voters head to the polls Tuesday to choose all 140 members of the General Assembly, with most of the attention on a tight battle for control of the state Senate that will shape the remainder of Democratic Gov. Terry McAuliffe’s time in office.

Republicans have a 21-19 edge in the Senate that Democrats could wipe out by netting one seat, with Democratic Lt. Gov. Ralph Northam serving as a tie-breaker. Republicans are all but assured of retaining a solid grip on the House, where they hold a 67-33 advantage.

The Senate races will be crucial for the term-limited Mr. McAuliffe and his prospects for advancing his agenda, as Statehouse Republicans have largely thwarted his big-ticket plans since he took office in January 2014.

Mr. McAuliffe said recently that electing Democrats to the state Senate will help him advance his agenda on items such as Medicaid expansion, gun control and education spending even with a Republican-controlled House.

“It makes a lot of difference,” Mr. McAuliffe said on WJLA-TV’s “NewsTalk.” “If I have one chamber that will work with me, then it puts a lot of pressure on the other chamber if one chamber passes safe gun restrictions, investments in K through 12, investments in pre-K.”

Two Senate races drawing much of the attention as pickup opportunities for both sides are the contests to replace retiring Sens. Charles J. Colgan, Manassas Democrat, and John C. Watkins, Powhatan Republican.

In Virginia’s 29th Senate District, covering part of Prince William County in the District of Columbia’s outer suburbs, Republican Hal Parrish and Democrat Jeremy McPike are vying to replace Mr. Colgan, who is leaving after 10 terms in office.

Mr. Parrish, the mayor of Manassas, has tried to appeal to commuters in Northern Virginia by tying Mr. McPike to the governor’s plans to impose tolls on high-occupancy vehicle lanes on Interstate 66 — a perpetually thorny issue in the traffic-clogged region.

Mr. McAuliffe has accused Mr. Parrish and other Republicans of lying about the issue. The governor says that under his plan, single drivers would simply have a choice to pay to drive in the lanes that are currently HOV-only during rush hour inside the Beltway.

Mr. Parrish denied the governor’s charge and said Mr. McAuliffe’s plans aren’t right for the region.

“The governor was pretty animated, I guess, about the campaign, and obviously supports my opponent, and he’s doing everything he can to try to get my opponent elected,” Mr. Parrish said in an interview. “I believe he’s absolutely wrong.”

Mr. McPike, like other Democrats running in Northern Virginia, has tried to distance himself from the governor’s toll plans.

“As a commuter who spends two hours a day just getting to and from work, Jeremy McPike is vocally against tolling on I-66,” said McPike campaign manager Noah Kim. “Gov. McAuliffe called Hal Parrish a liar who can’t stand on his record.”

‘This progressive agenda’

In addition to tolls, the issue of guns has played a big role in the Statehouse campaigns. Mr. McPike is getting major help from former New York Mayor Michael R. Bloomberg’s gun control group, Everytown for Gun Safety, which is bankrolling a $1.5 million ad campaign against Mr. Parrish — an enormous sum for a state-level race.

Everytown also made an ad buy of more than $500,000 targeting Republican Glen Sturtevant, a lawyer who is running against Democrat Dan Gecker in the race to replace Mr. Watkins to represent the Richmond-area’s 10th Senate District. Independent Marleen Durfee and Libertarian Carl Loser also are vying for the seat.

Mr. McAuliffe didn’t shy away from the issue during his successful 2013 gubernatorial run, and his victory suggests it’s possible for candidates with similar views to win in state legislative races in competitive districts, said Geoffrey Skelley of the University of Virginia’s Center for Politics.

“The expenditures made by Everytown for Gun Safety Action Fund could move the dial for Democrats and Democratic leaners in the electorate,” Mr. Skelley said in an email. “Of course, the ads might also gin up interest among pro-gun voters.”

Other groups also have entered the fray. The National Rifle Association has put more than $428,000 into independent expenditures in state House and Senate races, including the two marquee Senate races. Americans for Responsible Solutions, the gun control group co-founded by former Rep. Gabrielle Giffords of Arizona, who survived a shooting at a constituent event in January 2011, has spent more than $193,000 on independent expenditures to sway races in the state.

Mr. McAuliffe, who is limited to a single, nonconsecutive four-year term, will unveil in December his plans for a two-year state budget that will run past the end of his time in office, making next year’s session potentially legacy-building as he eyes his next gig.

“I need a chamber that will work with me to put forward this progressive agenda,” Mr. McAuliffe said.

The governor’s political action committee, Common Good VA, has put in more than $800,000 to boost Mr. McPike and has kicked in more than $780,000 for Mr. Gecker.

As for the House, Mr. Skelley said there is a good chance that there will be no net change to the sizable Republican majority, though both sides are eyeing some pickup opportunities, including in Northern Virginia races.

Democrat Jennifer Boysko is trying to win an open seat being vacated by retiring Republican Delegate Tom Rust in a contest in the 86th House District covering parts of Fairfax and Loudoun counties, running against Republican Danny Vargas and independent Paul Brubaker.

Republican Chuong Nguyen is trying to retain another open seat being vacated by Republican Delegate David Ramadan in the 87th District covering parts of Loudoun and Prince William, running against Democrat John Bell and Libertarian Brian Suojanen.

Republican Craig Parisot, meanwhile, is trying to knock off Democratic Delegate Kathleen Murphy in the Fairfax-centric 34th House District — a rematch of a close special election won in January by Ms. Murphy to replace former delegate and current Republican Rep. Barbara Comstock.