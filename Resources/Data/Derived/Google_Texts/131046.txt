“We will not allow the government not to be funded,” House Majority Leader Kevin McCarthy told reporters on Tuesday morning. The House had been scheduled to depart for the year on Friday, but McCarthy warned lawmakers to be in Washington over the weekend and perhaps into early next week to finish the spending bill.

The House and Senate have until the end of Friday to approve an omnibus spending bill to fund the government for the remainder of the fiscal year, which runs through next September. Yet unlike several previous spending deadlines, there’s not much concern in Washington about the threat of a government shutdown—at least immediately. Negotiators from both parties have been in talks for weeks, and while no agreement has been reached, Republican leaders have made repeated assurances that Congress would pass a stopgap bill to extend the deadline by a few days if they don’t strike a broader deal by Friday.

One of the biggest remaining items on Congress’s year-end to-do list is to pass a massive bill that tells the federal government what it can—and cannot—spend money on. Predictably, lawmakers are about to run out of time.

The spending bill is, in some ways, the last unfinished work of former Speaker John Boehner. The budget deal Boehner ushered through Congress before he left in October set the parameters for federal spending over the next two years, but lawmakers now need to determine how the money gets divvied up. And some of the biggest remaining sticking points are not dollar figures but policy provisions and restrictions that traditionally get added to large spending bills.

Conservatives, for example, want to use the omnibus to defund Planned Parenthood, curtail environmental and Wall Street regulations, and ensure that the House-passed suspension of the Syrian refugee program becomes law. Democrats strenuously oppose both provisions, and it appears that Republicans have moved off their summer-time focus on Planned Parenthood and are more intent on including the language on Syrian refugees. Senate Majority Leader Mitch McConnell is reportedly trying to attach changes in campaign-finance law, including a provision that would eliminate caps on how much money the parties can spend in coordination with candidates. The attempt by McConnell comes a year after lawmakers slipped in provisions loosening campaign-finance restrictions to a similar year-end spending bill.

With Republicans in control of both chambers of Congress, Democrats and the Obama White House know they’ll need to accept some ideologically-driven spending restrictions; the question becomes: which ones? Politico reported earlier this week that Democrats may agree to a Republican push to lift a decades-old embargo on U.S. oil exports in exchange for the extension of certain tax credits. Lawmakers from New York—mostly Democrats—also want the spending bill to include a permanent extension of the World Trade Center Health Program, which provides benefits to 9/11 first responders.

“We will not allow the government not to be funded.”

Congressional aides said they remain confident they’ll reach an agreement this week, but passing the lengthy bill through the House and Senate will likely push Congress past the Friday deadline. “We know that we're going to get it right instead of get it done fast,” House Speaker Paul Ryan told reporters Tuesday. The new speaker has been a stickler for process early in his tenure, and he said the House would not waive its requirement that legislation be public for parts of three days before a floor vote. “We're going to make sure that members of Congress and, therefore, the public have the time to read what is agreed to, but we're not going to let the arbitrary December 11th deadline stop us from getting this right,” he said.

Ryan is already facing pressure from conservatives in the House Freedom Caucus, who want Republicans to pass a six-week extension of funding so they can press the fight on Syrian refugees. Another wild card could be Obama, who vowed when Congress last sent him a short-term extension of funding, through a continuing resolution, that he would not sign another stopgap measure. The White House has since said he would agree to a very short extension only if it was needed for a few days to set up the passage of a longer bill. Upping the pressure on Congress, Defense Secretary Ash Carter on Tuesday evening issued a statement warning that a stopgap spending bill would be "a straightjacket” for the Pentagon.

With national security and terrorism fears back at the fore, it’s hard to see either congressional Republicans or the White House wanting a drag-out shutdown fight. Congress might miss its deadline for a yearlong bill, but the government will probably stay open for now.