Sen. Richard Pan (D-Sacramento) talks to reporters after the Senate approved a bill he co-authored. It would require virtually all children to be vaccinated. ( Pauline Bartolone/Capital Public Radio )

The state Senate has passed a bill that would require virtually all California schoolchildren to be vaccinated.

SB277 would end the “personal belief exemption” that allows parents to opt out of vaccines on behalf of their children and send their kids to school with some vaccinations or none at all. The Senate voted 25-10, mostly on partisan lines, after a long debate Thursday morning.

The bill’s co-author, Sen. Richard Pan (D-Sacramento), introduced the bill in the wake of a measles outbreak earlier this year that started at Disneyland.

While statewide vaccination rates are high — over 90 percent — some communities have high rates of children with a personal belief exemption on file with their school districts. In some schools, the rate of personal belief exemptions can be 50 percent or much higher.

“When you have pockets of low vaccination,” Pan said, “we need to do more to protect our communities. … This is a matter of public safety.”

Several sets of amendments to the bill — including a religious exemption and a requirement to disclose vaccine ingredients — were introduced and then tabled after votes by the full Senate.

“Getting a religious exemption is not unreasonable,” said Sen. Joel Anderson, R-San Diego. “Don’t get caught up with zeal. … You can gain more with honey than you can with vinegar.”

But Pan said that he had not received any letters from mainstream religious organizations opposing the bill. He and SB277 co-author Ben Allen (D-Santa Monica) have “had our own conversations with religious leaders, including the Catholic Church, and they do not oppose vaccination or this bill,” he said.

A religious exemption could become an issue with Gov. Jerry Brown, who added a religious exemption in 2012 when he signed into law another Pan vaccine bill — AB2109, which required those wanting a personal belief exemption to first meet with a health care provider.

Pan said he was open to talking with the governor about a religious exemption, but said he had not heard from Brown’s office.

If Pan’s bill becomes law, California would become only the third state without both a religious and personal exemption to vaccines. It would mean that children not fully vaccinated against 10 specified diseases could only be home-schooled. The bill applies to all students in public, private and parochial schools.

Children who cannot be vaccinated for medical reasons would be able to obtain an exemption. This includes children being treated for cancer or those with a compromised immune system.

The bill heads next to the Assembly.