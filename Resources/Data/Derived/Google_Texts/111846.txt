Related: Gay marriage faces southern rebellion as couples hit state bureaucracy's wall

Tens of thousands of revellers were converging on San Francisco for the start of the city’s annual Pride celebration, but euphoria over same-sex marriage legalisation was tinged by memories of past injustice and warnings of future political battles.



Crowds gathered under balmy sunshine on Saturday in Dolores Park, the Castro district and in front of city hall to celebrate the city’s 45th – and possibly most jubilant - Lesbian, Gay, Bisexual and Transgender Pride festival.

Drummers and other musicians led a “dyke march”, the main event on Saturday, while organisers made final preparations for a huge parade on Sunday which was expected to draw around a million people.

The supreme court’s ruling on Friday that same-sex marriage was protected under the constitution invested the jamboree with a sense of history, since San Francisco played a key role in the decades-long campaign for equality.

“Today our city is filled with joy,” said Joe D’Alessandro, head of the San Francisco Travel Association. “This decision is the culmination of a struggle that began in San Francisco on 12 February 2004.”

That was when the then mayor, Gavin Newsom, started issuing same-sex marriage licenses at city hall, a milestone in a rollercoaster, nationwide campaign which culminated in the supreme court’s 5-to-4 ruling.

The Castro, a gay district, has hosted round-the-clock raucous celebrations. “Maybe it’s time we got married,” Terry Gibson, 63, shouted with a grin to his partner, Allan Brammer, 64, over the din of a packed bar, The Mix. Having been together for 35 years, they felt no urgency to tie the knot, but the enthusiasm was contagious.

“I never thought I’d see this day,” said Gibson.

Before spangly costumes, drums and dancing took over the city, though, some activists took time out for solemn remembrance and warnings about the need for continued vigilance.

Early on Saturday dozens gathered on a slope of Twin Peaks, a nearby mountain, to assemble a large pink triangle, several hundred feet wide, which is visible for miles. The symbol the Nazis used to identify gay prisoners in concentration camps, it is a reminder of hatred and intolerance. Mayor Edwin Lee and other dignitaries attended the ceremony.

This year’s Pride theme is Equality Without Exception – a reference to the use of religious exceptions to discriminate against members of the LGBT community.

Same-sex marriage is now a right throughout the US but some conservative leaders in southern states indicated they would use religious grounds and bureaucratic niggling to resist the supreme court’s ruling. Texas governor Greg Abbott gave state officials tacit approval to deny marriage licenses to same-sex couples. Louisiana governor Bobby Jindal, a candidate for the presidency, did the same.

“Our theme Equality Without Exception is timely,” Gary Virginia, the head of SF Pride, which runs the festival, said in a statement. “Queers and allies alike need to vote and stay vigilant.”

Brian Basinger, one of the parade’s grand marshals, echoed the sentiment, saying the LGBT community needed to remain mobilised.

“We’re still not that many people,” he said. “Gains have to be sustained.” Basinger highlighted the community’s disproportionate number of sick and homeless people in San Francisco. He stressed, however, that the main emotion over the weekend would be joy.

Highlights included Laverne Cox, the star of Netflix’s Orange is the New Black, unveiling her wax figure at Madame Tussauds.

Organisers said there would be more than 20 stages and venues and nearly almost 300 exhibitors around city hall.

Speakers were scheduled to include Alicia Garza, who started the #BlackLivesMatter movement, and Kate Kendall, leader of the National Center for Lesbian Rights. The rock band Shiny Toy Guns were set to play on the main stage. Rick Welts, the president of the Golden State Warriors, the Oakland-based NBA champions, was to serve as celebrity grand marshal.

Facebook Twitter Pinterest Jayne Rowse, left, and April DeBoer celebrate in Ann Arbor. Photograph: Paul Sancya/AP

With police sealing off roads for the duration, and ferries and the Bart railway jammed to capacity, city authorities warned of long traffic jams and delays in public transport.

San Francisco may have hogged the spotlight, but LGBT communities elsewhere in the US held their own celebrations of the supreme court ruling.

Michigan’s main Pride event is not until August. Therefore Aut Bar, the top gay bar in Ann Arbor, if not the entire state, hosted an improvised party which had staff making emergency champagne, beer and ice runs as revellers depleted their stock.

“By Sunday night, we’re going to be selling Rumchata and Galliano,” said Keith Orr, who opened the bar with his partner, Martin Contreras, 20 years ago.

They were one of 322 couples to marry in Michigan in March 2014, when a district judge temporarily struck down the state’s ban, but on Saturday they still felt overwhelmed by the significance of Friday’s supreme court ruling.

“Yesterday was the biggest victory I can recall in my lifetime in terms of a change in the way the government is looking at us,” said Orr. “It was a historic day, a historic decision. What does it mean to us? It means everything.”

Related: Same-sex marriage ruling's ripple effect – historic celebrations of love

On Friday 10 weddings were held in the bar’s patio, under a traditional arch woven with pink flowers and a small rainbow flag.

On Saturday morning, the arch was set in front of the entrance to Trillium real estate, which is run by Linda Lombardini and Sandi Smith. Their desks were covered with same-sex wedding toppers, copies of the supreme court ruling and a rainbow-colored bouquet.

Accompanied by their families, they legally wed in New York City in October 2013, after the supreme court struck down the Defense of Marriage Act. But until Friday’s ruling it remained unclear if their home state would recognise the marriage certificate.

“It was pretty phenomenal,” said Smith about the moment the decision was announced.

Smith said the two families dropped everything to celebrate with them anew.

“It was like a wedding day all over again,” she said.