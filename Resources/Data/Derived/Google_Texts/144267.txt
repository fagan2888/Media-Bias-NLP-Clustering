A GOP-led bid to gut Obamacare by scrapping its mandates and unpopular taxes with a fast-track budget tool is facing opposition from conservatives who say Republicans must send an all-or-nothing repeal bill to President Obama’s desk before next year’s election.

The House is set to vote on the bill, dubbed the Restoring Americans’ Healthcare Freedom Reconciliation Act, on Friday.

It uses a process known as budget reconciliation to repeal the individual mandate requiring Americans to hold adequate health coverage. It also gets rid of a phased-in insurance mandate on large employers, a yet-to-be-appointed board on Medicare spending and taxes on medical device sales and generous, or “Cadillac,” health plans offered by some employers.

Reconciliation would allow the GOP-controlled Senate to pass legislation on a majority vote and avoid a Democratic filibuster. Although Mr. Obama can still veto the bill, the party wants to prove it could repeal the health law with a Republican president in 2017, even without a filibuster-proof majority in the Senate.

But first the legislation has to make it out of the House, and the political arm of conservative Heritage Foundation is warning members to vote against a bill that they view as inadequate.

Namely, they complain the bill leaves Obamacare’s exchange subsidies and Medicaid expansion intact, even if scrapping the mandates could do real harm to the law’s fragile economics.

“Once again, House Republican leaders are putting their members in a terrible position. This bill will not restore Americans’ health care freedom because it leaves the main pillars of the law in place,” Heritage Action said in a statement late Monday. “GOP leaders are violating an explicit promise made in the budget and walking back on their public commitment to fully repeal Obamacare. By doing so they are undermining any serious effort to repeal the law in 2017.”

The conservative push back comes amid turmoil over a suitable replacement for Speaker John A. Boehner, Ohio Republican who was nudged out by members on his right flank in the conservative Freedom Caucus. Those members also derailed a bid by Majority Leader Kevin McCarthy, California Republican, to become speaker.

Senate Majority Leader Mitch McConnell, Kentucky Republican, has said the party is limited in what it can do through reconciliation, since arcane rules require it to reduce the deficit and pass muster with the Senate parliamentarian.

Heritage insists the party can get a full repeal bill through, reissuing a memo Tuesday that argues full repeal can cut the deficit if the Congressional Budget Office no longer “double counts” Medicare changes in the Affordable Care Act as both savings for the program and money to pay for new spending.

The reconciliation package also would strip Planned Parenthood of federal funding for one year, after a series of undercover videos appeared to show organization officials negotiating the sale of fetal body parts.

Such sales are only legal if they are not done for profit, and the organization insists it did not break the law.

Heritage didn’t like this part of the bill, either, saying the GOP should use a must-pass bill to fully defund the organization, and that the reconciliation bid “lacks the necessary leverage to ensure the president eventually signs the bill into law.”