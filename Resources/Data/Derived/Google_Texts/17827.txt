It could be the largest settlement with a single entity in U.S. history, the U.S. Justice Department said.

The April 20, 2010, rig explosion killed 11 workers and spewed millions of barrels of oil for nearly three months onto the shorelines of several states.

The agreement covers U.S. Clean Water Act fines and natural resources damages, along with claims by Alabama, Florida, Louisiana, Mississippi, Texas and 400 local government entities.

BP's London-listed shares rose as much as 5.3 percent as the extent of the company's liabilities became clear for investors, even as it increased its cumulative pretax charge for the disaster by about $10 billion to $53.8 billion. BP's New York-traded shares rose 5 percent to $41.20.

"This is a realistic outcome which provides clarity and certainty for all parties," BP Chief Executive Officer Bob Dudley said in a statement. "For BP, this agreement will resolve the largest liabilities remaining from the tragic accident."

The size of the settlement was slightly more than the $17.6 billion that investors had feared BP would be fined under the Clean Water Act for gross negligence.

The maximum possible Clean Water Act fine was later trimmed to $13.7 billion after U.S. District Court Judge Carl Barbier found 3.19 million barrels spilled, less than the U.S. government claimed.

Barbier was expected to rule on that issue later this year, but even after that, BP would have still faced years of lawsuits to address claims by states and by the federal government under a natural resources damage assessment.

The settlement announced Thursday closes off the remaining liabilities and will bring over $6.8 billion to states.

"This agreement will not only restore the damage inflicted on our coastal resources by the Deepwater Horizon oil spill, it will also allow Louisiana to continue aggressively fighting coastal erosion," Louisiana Governor Bobby Jindal.

(Reporting by Abhiram Nandakumar in Bengaluru, Ron Bousso in London and Kathy Finn in New Orleans; Writing by Terry Wade; Editing by Jeffrey Benkoe)