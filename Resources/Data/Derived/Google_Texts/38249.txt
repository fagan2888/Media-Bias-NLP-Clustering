LAS VEGAS — With a pair of rear naked chokes that finished two celebrated champions, Nate Diaz and Miesha Tate both accomplished the improbable in a pair of sport-shaking victories at UFC 196.

Diaz forced Conor McGregor to tap out with 48 seconds left in the second round Saturday night, ending the Irish superstar’s 15-fight winning streak in a non-title bout.

Tate won the UFC bantamweight title at the MGM Grand Garden Arena, locking Holly Holm in a choke that rendered the champ apparently unconscious with 90 seconds left in the fifth round.

The dual upsets stunned a sellout crowd and one of the biggest pay-per-view audiences in the history of mixed martial arts.

They also threw two potential wrenches into the UFC’s plans for the upcoming year: McGregor was widely expected to fight in the main event at UFC 200 in July, while Holm’s next fight was supposed to be her rematch with Ronda Rousey, whose title reign ended with Holm’s knockout win in November.

Diaz and Tate had plans of their own.

“After 16 years in this business, the one thing you don’t ever do is think you know what’s going to happen,” thrilled UFC President Dana White said. “Because you don’t.”

Diaz (20-10) was battered and bloodied for the first 1 1/2 rounds by McGregor (19-3), the UFC 145-pound featherweight champ and pay-per-view star fighting at 170 pounds on short notice.

Diaz, who took the fight less than two weeks ago, abruptly changed the bout with an electric series of punches that wobbled the previously unshakable McGregor. When McGregor tried a takedown, Diaz quickly forced him to tap out on the ground.

“I knew I was the superior boxer, with superior kickboxing, with superior jiu-jitsu,” said Diaz, who had lost five of his previous 10 fights. “Nothing surprised me except for that I got hit at all. I think with a full camp, I would have been flawless.”

Earlier, Tate (18-5) became the third 135-pound champion in UFC history by beating Holm (10-1), the woman who knocked out Rousey in November. Holm appeared to be out cold when Tate finally released her from the choke to celebrate.

“Not many people wouldn’t tap out,” Tate said. “She went out like a champion. … She’s tougher than nails. She really pulled the most out of me and made me a better fighter tonight.”

The main event was the greatest moment in the career of Diaz, a pugnacious veteran from a notorious fighting family in Stockton, California. Diaz had lost three of his past five fights, but his size and power abruptly finished McGregor, who had boasted of his plans to hold championships in multiple weight classes.

The loss was McGregor’s first since November 2010, and it put a blemish on the loquacious Irish face of the UFC and the best-paid fighter in this rapidly growing sport.

McGregor was somber but reflective at the post-fight news conference, which often isn’t attended by losing fighters. He thinks his next bout will be a featherweight title defense, but he vowed to return to higher weight classes.

“I will never shy away from defeat,” McGregor said. “This is part of the game. I had many chances to not do this and sit and wait, but I went in. I took the fight and it didn’t pay off. This is the fight business. It’s another day. I will come back.”

McGregor agreed to fight Diaz at the welterweight limit when 155-pound lightweight champion Rafael Dos Anjos dropped out of his matchup with McGregor due to a foot injury. McGregor set a new UFC record with his $1 million disclosed purse for this fight, and he predicted a comfortable win over Diaz, comparing the veteran to a gazelle about to be eaten by a lion.

Instead, McGregor got bit.

“(McGregor) punches hard,” Diaz said. “He’s a hard-hitting little guy, but nothing I never felt before.”

The penultimate fight at UFC 196 was a thrilling clash of styles, and Tate fought until the waning minutes before finally using her superior ground game to outstanding effect.

“I feel like we had a great game plan,” Tate said. “I had to be patient. She’s very dangerous. She’s capable of catching anyone at any moment. She’s a very calculated fighter.”

For 4 1/2 rounds, Holm appeared to be winning her first fight since she dethroned Rousey with a stunning head-kick knockout. Although Tate controlled the second round on the ground and got close to a finish, Holm picked apart Tate with punches for the other three rounds.

Everything changed when Tate finally landed a desperate takedown attempt and got Holm’s back with 2 minutes left.

Holm fought desperately to get out, but the veteran wrestler sunk in a choke that she didn’t let go until she was the champion.

“It wasn’t the right move to shake her off my back,” Holm said. “It was stupid, and I should have fought it off more. When you’re up against a wrestler like that, of course that threat is there for a takedown, and you have to recognize it.”

Tate was overwhelmed after finally reaching her longtime goal. She hasn’t lost a fight since 2013 but realized this might be her last chance to fight for the belt.

“My mentality is, it doesn’t matter how many times you get knocked down in a fight,” Tate said. “It’s how many times you get back up. I think that’s something a champion does.”