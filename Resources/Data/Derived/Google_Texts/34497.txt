Panama and a consortium of construction firms led by Spain's Sacyr SA signed a final agreement Thursday that settles a monthslong dispute over massive cost overruns on a multibillion-dollar project to expand the Panama Canal.

The final deal, which includes $400 million that an insurance firm could unlock to help fund the remaining construction, comes two weeks after both sides reached a preliminary deal that allowed for much work to resume on the $5.2 billion expansion project. With 30% of the work left to be done, the...