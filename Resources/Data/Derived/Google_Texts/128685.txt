A federal judge on Wednesday dismissed a lawsuit against Barclays PLC that was inspired by the best-selling book “Flash Boys: A Wall Street Revolt.”

The suit filed in the Southern District of New York by the city of Providence, R.I., and other investors cited the book and alleged that Barclays and the U.S. stock exchanges defrauded investors in its dark pool, a private trading venue, and gave high-frequency traders an unfair...