The Senate on Friday passed a massive $1.8 trillion spending and tax bill, including a mess of tax breaks expected to cost the government $680 billion over the next decade. The beneficiaries range from low-income workers to giant corporations, and even include the all-important horse racing and motorsports industries. The measures, which passed the House on Thursday, are now headed to the desk of President Barack Obama.

Both parties came away from the frantic negotiations claiming some victories. Democrats managed to make permanent a series of anti-poverty tax breaks, including an expansion of the child tax credit—which will keep the threshold above which a percentage of a parent's income can be deducted to defray childcare costs at $3,000, rather than allowing it to rise to $10,000—and the earned income tax credit. “These improvements lift about 16 million people, including about 8 million children, out of poverty or closer to the poverty line each year,” Robert Greenstein, president of the progressive Center on Budget and Policy Priorities, said of the measures.

Two other newly permanent tax breaks are the research and experimentation credit—which allows companies to deduct R&D costs—and a tax deduction allowing small businesses to write off up to $500,000 for the purchase of heavy machinery or office equipment. These proposals found support on both sides of the aisle. Republicans, meanwhile, managed to extend or make permanent deductions that will largely benefit large corporations, including one that expands th e category of foreign income that is not taxed and another allowing businesses to write off investment costs up front.

The tax bill may raise some problems for the Affordable Care Act (ACA), Obama’s landmark health coverage bill. It delays the unpopular “Cadillac tax”—a tax on expensive employer-provided health plans—as well as taxes on medical devices and health insurance. Altogether, these cuts will cost the healthcare program more than $30 billion, according to the Committee for a Responsible Federal Budget (CRFB), a bipartisan fiscal policy education organization, making Obamacare just that much more expensive for the government over the coming years.

According to CRFB, the tax deal will cost the government a whopping $680 billion over the next decade—after interest, about $830 billion. With no new revenue sources, the expense will just be tacked onto the yawning US deficit. "The failure to pay for this legislation is completely at odds with rhetoric about fiscal responsibility and balanced budgets," CRFB president Maya MacGuineas said.