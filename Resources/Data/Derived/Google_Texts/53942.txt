The stock market may not have gained much over the first six months of the year, but Wall Street’s banks still posted their strongest first half since 2011, generating $11.3 billion in profits — a 29 percent jump from 2014 levels, according to a new report by New York State Comptroller Thomas P. DiNapoli.

Wall Street workers are doing well, too, as salaries have catapulted to record highs. The average salary, including bonus, jumped 14 percent in 2014 to $404,800, a new nominal record. Adjusted for inflation, those 2014 earnings were the third-highest ever. Wall Street bonuses reached an average of $172,900 — a level surpassed only by the two years prior to the 2008 financial crisis.

Related: Wall Street Should Pay for the Recessions They Cause

The average Wall Street salary was almost six times higher than the average across the rest of New York City’s private sector, $72,300. As of 2013, nearly a quarter of Wall Street employees earned more than $250,000, while less than 3 percent of the rest of the city’s workers made that much. At the other end of the income scale, 10 percent of securities industry employees earned less than $35,000, compared with 45 percent in the rest of the New York City workforce.

After years of cutbacks and adjustment to new regulations, securities industry profitability has improved. It averaged $16.3 billion a year for 2013 and 2014, even as expensive legal settlements tied to the financial crisis ate into banks’ bottom line. A drop in such legal expenses helped lift profits even higher in the first half of this year.

As the securities industry continues to recover and adapt, it added jobs last year for the first time since 2011, growing by 2,300 employees. It was on pace to add another 4,500 workers this year before stocks dipped into a correction. According to estimates from the Office of the Comptroller, each job that’s added in the securities industry leads to two more jobs in other industries in New York City and one more job elsewhere in New York State.

The industry is still 9 percent smaller than before the recession, and DiNapoli warned that Wall Street’s profits and hiring plans could be cut back by recent market turbulence and other factors.

Related: There’s a Shortage of Cops on Wall Street – and New Trouble Brewing

“After a very strong first half of the year, the securities industry faces volatile financial markets and an unsteady global economy,” DiNapoli said. “After years of downsizing, the industry has been adding jobs in New York City, but it may curtail hiring to bolster profits.”