Amazon's just reported its Q2 earnings, beating expectations on both the top and bottom line, sending the stock shooting up more than 18% after-hours.

Here are the most important numbers:

Revenue : $23.18 billion versus analyst estimates of $22.39 billion. That's up 20% year-over-year and Amazon says that revenue would have been up 27% if it weren't for unfavorable currency fluctuations.

: $23.18 billion versus analyst estimates of $22.39 billion. That's up 20% year-over-year and Amazon says that revenue would have been up 27% if it weren't for unfavorable currency fluctuations. EPS: $0.19 versus analyst estimates of -$0.14

Amazon's net income of $92 million compares to a loss of $126 million at this time last year.

Analysts were expecting more losses this quarter, and the surprise profits have the stock going bananas. Thanks to the after-hours stock spike, Amazon is now worth more than Walmart.

Baird analyst Colin Sebastian told Business Insider that he attributes the big earnings beat in part to the growth of two businesses with strong profit margins: AWS and Amazon's third-party marketplace.

AWS performed particularly well, with net sales of $1.8 billion, up 81% year-over-year and solid growth from $1.57 billion last quarter. It had profits of $391 million, up from $77 million Q2 2014. At this rate, AWS is a profitable, $7.2 billion annual business.

Although international sales growth was still nearly flat — up only 3% year-over-year — Amazon at least partially attributes that to currency fluctuations. North American sales grew 26%. India was Amazon’s fastest growing geography in sales.

Operating cash flow increased 69% to $8.98 billion for the trailing 12 months and free cash flow increases to $4.37 billion during the same time-frame. Amazon's expecting net sales next quarter between $23.3 billion and $25.5 billion, and net income between $480 million and $70 million.

As usual, Amazon declined to disclose its number of Amazon Prime subscribers, but on a press call, new CFO Brian Olsavsky did say that Prime customers and product selection drove the top line growth. Later, in the earnings call, he also added that international shoppers were signing up even faster than North America users.

The membership club is arguably one of the company's most important initiatives: Prime members may spend more than double on the site per year than non-members do, according to an analysis from Consumer Intelligence Research Partners in January.

Amazon said that most of its $22.7 billion in operating expenses came from cost of sales.

Now time for the earnings call:

As usual, we're just going over the numbers from the press release at first.

The first question was about the driving forces behind the huge AWS growth. CFO Olsavsky demurred on giving many details, but did say that it had last AWS price cuts this quarter than it did at this time last year. He also said that AWS planned to open a new center in India, and is "super-excited" about ramping up investment in India overall.

In response to another question, he said that Amazon marketplace, Prime, and AWS were three big areas of investment, but that it's always looking for new big areas as well.

Disclosure: Jeff Bezos is an investor in Business Insider through his personal investment company Bezos Expeditions.

More From Business Insider: