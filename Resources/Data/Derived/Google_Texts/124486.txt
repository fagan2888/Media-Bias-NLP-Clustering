House Speaker Paul Ryan of Wis. speaks during a news conference on Capitol Hill, May 17, 2016, after a House Republican caucus meeting. From left, Rep. Cathy McMorris Rodgers, House Majority Leader Kevin McCarthy of Calif., and Ryan. (AP Photo/Evan Vucci)

WASHINGTON — The Republican-led House voted convincingly Wednesday to approve a $602 billion defense policy bill after rejecting attempts by Democrats to close the detention facility at Guantanamo Bay, Cuba, and to repeal the war powers President Barack Obama relies on to fight the Islamic State.

The legislation, which authorizes military spending for the fiscal year beginning Oct. 1, seeks to halt a decline in the combat readiness of the U.S. armed forces by purchasing more weapons and prohibiting further cuts in troop levels. But in a 17-page statement on the policy bill, the White House detailed its opposition to numerous provisions and said Obama would veto the legislation if it reached his desk.

The bill, approved 277-147, must be reconciled with a version the Senate is expected to consider by month's end.

Republicans shot down an amendment by Rep. Jerrold Nadler, D-N.Y., to strike parts of the bill that renew a longstanding ban on moving Guantanamo detainees to the United States. The embargo has kept Obama from fulfilling a campaign pledge to shutter the facility. The White House said the restrictions interfere with the executive branch's authority to decide when and where to prosecute prisoners.

The House soundly defeated an amendment authored by Rep. Barbara Lee, D-Calif., to revoke a 2001 authorization that Congress gave President George W. Bush to attack any countries or groups involved in the Sept. 11 terrorist attacks. Obama is relying on that nearly 15-year-old authority to send U.S. troops into combat against the Islamic State.

Lee argued it's long past time for Congress to grant new war powers that specifically approve the nearly two-year-old campaign. "I am extremely disappointed that my colleagues left a blank check for endless war on the books," she said.

But opponents of her amendment said no new authorization should be granted until Obama produces a coherent strategy for defeating the extremist group. Rep. Ed Royce, R-Calif., the chairman of the House Foreign Affairs Committee, said Obama has all the authority he needs and Lee's amendment would "unilaterally end the fight" against the Islamic State.

The bill included a provision that Democrats said would overturn an executive order issued by Obama that bars discrimination against LGBT employees by federal contractors.

Rep. Adam Smith of Washington, the top Democrat on the House Armed Services Committee, called the measure "taxpayer-funded discrimination against LGBT individuals" and cited it as one the reasons he refused to support the bill.

But Republicans said the measure is primarily a restatement of part of the 1964 Civil Rights Act. "It's one paragraph. That's it," said Rep. Mac Thornberry, R-Texas, the chairman of the House Armed Services Committee. "I just get this feeling personally that there may be those who are just looking for an excuse to vote against the bill."

Smith also said Republicans used a "procedural trick" to strip a provision that would have be required women to sign up for a potential military draft. They replaced it with a measure to study whether the Selective Service is even needed at a time when the armed forces get plenty of qualified volunteers, making the possibility of a draft remote.

The Obama administration objected to a Republican plan to shift $18 billion in wartime spending to add additional ships, jet fighters, helicopters and other equipment the Pentagon didn't request.

To make up for the shortfall in the wartime account, Obama's successor would submit a supplemental budget to Congress in early 2017, according to Thornberry, the plan's architect. He and other proponents of the spending increase say it is essential to halt a decline in the military's ability to respond to global threats — which, they say, has worsened on Obama's watch.

But Defense Secretary Ash Carter has called the strategy a "road to nowhere" that actually degrades combat readiness by retaining troops and buying equipment that can't be sustained, effectively creating a hollowed-out force. In a speech Tuesday, Carter said Thornberry's plan "risks stability and gambles with war funding, jeopardizes readiness, and rejects key judgments of the (Defense) Department."

The House bill would block reductions in the number of active-duty troops by prohibiting the Army from falling below 480,000 active-duty soldiers and by adding 7,000 service members to the Air Force and Marine Corps. The legislation also approves a 2.1 percent pay raise for the troops — a half-percentage point higher than the Pentagon asked for in its budget submission.

The bill also includes a provision authored by Thornberry to curb what Republicans say is micromanagement of military operations by National Security Council staff. Thornberry said he has personally heard from troops in combat who have received intimidating calls from junior White House staffers even though their role is to coordinate policy and advise the president.

To increase oversight and accountability, Senate confirmation of the president's national security adviser would be required if the size of the National Security Council staff exceeds 100 employees, according to the bill.