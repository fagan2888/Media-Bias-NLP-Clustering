Morgan Stanley agreed to pay the top U.S. housing regulator $1.25 billion—the largest legal expense for the Wall Street firm relating to the financial crisis—to settle a lawsuit that it sold mortgage bonds to Fannie Mae and Freddie Mac without adequately disclosing their risks.

Morgan Stanley had told investors last month that it had boosted its 2013 legal reserves by $1.2 billion to resolve lingering issues from the financial crisis. In a regulatory filing Tuesday, it said it would set aside an additional $150 million....