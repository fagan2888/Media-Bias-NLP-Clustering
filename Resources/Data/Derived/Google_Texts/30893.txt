DUBLIN — An Algerian-born terror suspect wanted in the United States walked free from an Irish court Thursday after five years behind bars and a two-year legal battle against extradition, as the judge cited potentially cruel prison conditions in Colorado’s ADX prison.

U.S. authorities had sought to convict Ali Charaf Damache, 50, on two counts of conspiring to develop a European terror cell and to aid Pakistan-based terrorists. He had been held without bail in Ireland since March 2010 but walked free after Justice Aileen Donnelly criticized Irish prosecutors and cited “substantial grounds for believing that Mr. Damache will be at real risk of being subjected to inhuman and degrading treatment if extradited to the USA.”

She said that the ADX super-maximum-security prison near Florence did not meet Irish constitutional standards for the treatment of imprisoned Irish citizens.

Damache, who has Irish citizenship, had been jailed in Ireland since U.S. investigators tied him to a failed 2009 conspiracy to kill Swedish artist Lars Vilks, who had depicted the prophet Muhammad as a dog.

According to evidence presented in U.S. and Irish courts, Damache was a ringleader who recruited white American women to his cause using online chat rooms.

Damache married one of these alleged online recruits, “Jihad Jamie” Paulin-Ramirez, on the first day she arrived in Ireland from her hometown of Leadville, accompanied by her 6-year-old son.

Paulin-Ramirez, 35, is serving an 8-year sentence after being arrested in March 2010 in Ireland alongside Damache. She agreed to return to the United States and pleaded guilty in 2014 to providing material support to terrorists.