They tried to ban large sodas in New York City, but the courts said “no.” And now the same thing has happened to the ban on foie gras in California.

West Coast nanny-state proponents took a hit Wednesday when a federal judge struck down the state’s two-year-old prohibition on foie gras, a delicacy made from fattened duck or goose liver.

U.S. District Court Judge Stephen Wilson said in his opinion that California health and safety codes that ban restaurants from serving foie gras run afoul of federal law, namely the Poultry Products Inspections Act. According to the judge, this federal statute supersedes any state law in governing the production and sale of the pate.

“This action for declaratory and injunctive relief touches upon a topic impacting gourmands’ stomachs and animal rights activists’ hearts: foie gras,” said the ruling.

The California state legislature passed a foie gras ban in 2004 under pressure from animal rights advocates, who argued that foie gras is inhumane because it is traditionally made by force-feeding birds in order to enlarge their livers.

The law went into effect in 2012 after legal challenges failed, but it was habitually undermined by restauranteurs who continued to serve foie gras, saying they were not selling it but giving it away as a gift, which is not prohibited under the law.

Chef Ken Frank of La Toque restaurant in Napa, who was sued by the Animal Legal Defense Fund for continuing to serve foie gras, sponsored an essay contest in June on the topic, “Why California’s Foie Gras Ban Is Foolish,” according to San Francisco Eater.

Foodies rejoiced at the decision. Mr. Frank posted a celebratory message on Twitter shortly after the judge’s ruling was issued Wednesday: “Foie Gras is legal again in California. On the menu tonight.”

Chef David Bazirgan of Dirty Habit in San Francisco posted a photo on Instagram showing him holding up two packages of foie gras with the caption, “CALI FOIE BAN OVERTURNED. GOOD THING I ALWAYS HAVE IT ANYWAY!!! We have lots of foie gras for tonight!”

Bruce Friedrich of Farm Sanctuary, representing a coalition of animal protection groups that includes the ALDF and Humane Society of the United States, urged California Attorney General Kamala Harris to appeal the ruling.

“Foie gras is a product of egregious cruelty to animals, and the state of California has an absolute right to ban it,” Mr. Friedrich said in a statement. “This is a principle that has been strongly supported by both the conservative and the progressive members of the federal bench, and this holding will prove a clear anomaly — it will not stand.”

The lawsuit was brought by Canadian and Hudson Valley duck and geese farmers and the Hot’s Restaurant Group.