Shares of Google may struggle in coming years as the company faces a maturing search business, lower margins in other products and increased competition from Facebook, according to a Wall Street analyst Thursday.

"We do not see significant sources of future upside for shares and believe the best days for shares may be behind it," wrote Stifel's Scott Devitt, who downgraded the shares to "hold" from "buy."

Google's shares fell 5 percent last year, the one-time investor darling's worst year since the financial crisis of 2008. Meanwhile, Facebook's shares climbed more than 40 percent in 2014.

Related: Google and Uber Are Playing Badly in Europe

The analyst added that the company's habitual earnings misses have finally turned off investors, reflected in the stock's multiple contraction. "Google was the undoubted leader of the online advertising sub-sector in the last internet cycle," wrote Devitt. "However, Google is now joined by companies such as Facebook, which is increasingly taking share of the incremental ad dollars that are transitioning from offline to online."

Devitt noted that Google is not transitioning to mobile with the same high level of success the company had with desktop in terms of time spent and ad dollars.

"In the U.S., people spend about as much time on Google properties as they do on Facebook. However, on mobile devices, people spend almost 3x as much time on Facebook."

The analyst said his earnings estimates are"considerably" below the rest of Wall Street for this year and 2016. He expects the other analysts to come around to his viewpoint and lower estimates, weighing on the stock.

Related: Why 2015 May Be the 'Year of the Ear' for Wearables

Google has missed Wall Street's consensus estimates 5 of the last 6 quarters, according to the note.

"Many investors have asked us why Google as a stock didn't work in 2014," said Devitt. "There are a number of reasons but the simplest answer is that over the prior two years Google saw significant multiple expansion."

The note doesn't offer much in terms of what Google can do to avoid this fate, but the analyst notes current businesses outside of search aren't cutting it.

"Google is in the early to mid stages of a core business maturation. The company continues to find growth outside of search, but in structurally lower-margin business segments such as Google Play (Android) and YouTube."

This article originally appeared in CNBC.

Read more in CNBC:

Cramer: This is cheap oilâ€™s big winner

Apple already hits new records in 2015

See it here: How people sell illegal stuff online