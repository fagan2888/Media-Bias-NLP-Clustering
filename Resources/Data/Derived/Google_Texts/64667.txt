Jeb Bush, left, and Hillary Rodham Clinton, second from right, watch as former president George H.W. Bush shakes hands with President Bill Clinton after Clinton's speech at the formal opening of the George H.W. Bush Presidential Library and Museum in Dallas on Nov. 6, 1997. (REUTERS/Gary Cameron)

Jeb Bush and Hillary Clinton on Tuesday accused each other of flip-flopping on immigration.

Both of them are right.

The barbs traded between the Republican and Democratic front-runners previewed the partisan warfare to come and showed yet again that one of the most emotionally charged, unresolved issues of the Barack Obama era will be a dominant factor in next year's presidential campaign.

Immigration remains a rallying cry for Democrats, particularly Latinos upset that President Obama and Congress have so far failed to strike a legislative compromise. But it's divided the GOP, which is torn between those seeking comprehensive reforms and others more concerned with tighter border control and supporting candidates like Donald Trump, who has argued that "rapists" and other criminals are streaming across the Mexican border.

In a CNN interview Tuesday in Iowa City, Iowa., Clinton lumped together the sprawling GOP presidential field -- saying the dozen-plus candidates are "on a spectrum of hostility" toward immigrants and noting that none currently support providing a pathway to citizenship for eligible illegal immigrants.

When the interviewer reminded Clinton of Bush's previous support for such a pathway, Clinton shot back: "He doesn’t believe in a path to citizenship. If he did at one time, he no longer does."

Bush's team responded by pointing out her own shifting positions on immigration, while not acknowledging his own. A spokeswoman charged that Clinton "will say anything to get elected and her numerous flip-flops on immigration prove it."

Bush aides noted that Clinton did little to actively push immigration as a senator, steered clear of the Senate's 2013 debate on the subject and wavered on whether illegal immigrants should be granted driver's licenses during her 2008 presidential campaign.

Bush now advocates for legal status -- a so-called green card -- and tells skeptical GOP crowds that there's no logical way to deport 12 million illegal immigrants. But he once pushed strongly to grant citizenship to "dreamers," the children brought to this country illegally by their parents. He also supports granting driver's licenses to illegal immigrants.

But he vacillated twice in 2013. First, he published a book, "Immigration Wars," that presented a plan to grant legal status to immigrants who paid fines and back taxes, learned English and hadn't been convicted of major crimes. Those who declined to do so would have to return to their home country to face deportation. The book did not advocate offering the possibility of citizenship.

"It is absolutely vital to the integrity of our immigration system that actions have consequences -- in this case, that those who violated the laws can remain but cannot obtain the cherished fruits of citizenship," Bush wrote.

But later in 2013, Bush praised legislation written by the Senate's "Gang of Eight" that included a path to citizenship.

Now as a presidential candidate, Bush backs legal status -- but not the possibility of citizenship -- for undocumented immigrants, citing the detailed proposals in his roughly 300-page book. At the same time, he has said that he would support granting citizenship to eligible immigrants if it is part of a comprehensive deal packed with changes to border security and visa programs that are amenable to Republicans.

"If that was the way to get to a deal, where we turned immigration into a catalyst for high sustained economic growth, where we did all the things we need to do in border security, where we narrow the number of people coming through family petition and dramatically expanded a like-kind number for economic purposes which will help us grow and help the median rise up, in return for that as a compromise, sure," he told Fox News in May.

[From 2013: Hispanic consciousness lends weight to Jeb Bush as GOP eyes 2016 presidential race]

Clinton, meanwhile, signaled her support for citizenship last spring, but she maintains a "law and order" stance on the enforcement of current immigration laws. Last summer, she said that thousands of children illegally crossing the U.S.-Mexico border "should be sent back" -- a view that put her at odds with many immigration advocates. In the CNN interview Tuesday, she criticized San Francisco and other "sanctuary cities" that refuse to deport illegal immigrants with criminal records.

Bush's team seized on a vote Clinton took in 2007, when she joined with other Democratic senators to support what Republicans called a "poison pill amendment" that would have set time limits on a proposed guest-worker program. The amendment was backed by labor unions and passed the Democratic-controlled Senate, forcing George W. Bush and congressional Republicans to drop support for a bipartisan immigration bill.

Later that year, Clinton stumbled over whether to grant driver's licenses to illegal immigrants.

Asked about the issue during a November 2007 presidential debate, Clinton equivocated, prompting attacks on stage from her opponents: then-Sens. Barack Obama (Ill.) and John Edwards (N.C.). Her campaign later reiterated her support for comprehensive immigration reform and said that she supported the driver's-license proposal.

Clinton's comments this week appeared designed to box Bush in: Pointing out his shifting position on immigration could raise doubts among Hispanics drawn to the former Florida governor, who enjoyed notable Latino support during his gubernatorial campaigns, is fluent in Spanish and is married to a Mexico-born wife. At the same time, forcing him to explain his previous support for a pathway to citizenship -- and his current support for granting legal status -- could raise fresh doubts among Republican voters skeptical of granting legal protections to illegal immigrants.

Bush responded by focusing on Clinton's record, much as he has already singled out her support for the Affordable Care Act and her work on Obama's foreign policy.

Ultimately, while they differ on the finer details, both Clinton and Bush say they are seeking a wholesale, bipartisan revamp of the nation's immigration system. The similarities in their rhetoric are notable.

Here's Clinton on Tuesday to CNN:

"We know we're not going to deport 11 or 12 million people. We shouldn't be breaking up families. We shouldn’t be stopping people from having the opportunity to be fully integrated legally within our country. It’s good for us, it’s good economically, it’s good for the taxes that will be legally collected. It’s good for the children so that they can go as far as their hard work and talent will take them."

And here's Bush in his 2013 book -- a passage similar to statements he's made in recent months on the campaign trail:

"It is in no one's interest for illegal immigrants and their families to live in the shadows. We need everyone to participate in the mainstream economy, to pay taxes, to participate openly in their communities, to be willing to report crimes -- that is to say, to be accountable, responsible members of society. That cannot occur when people fear they will be arrested if their immigration status is known."

If Clinton and Bush prevail to win their respective party's nomination, their barbs could sound remarkably similar next summer.

Jose A. DelReal in Iowa City, Iowa., contributed to this story.