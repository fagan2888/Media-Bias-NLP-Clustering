Republicans in the Missouri Senate have passed a constitutional amendment protecting religious individuals and businesses who do not want to service same-sex wedding ceremonies, bringing to end a 39-hour filibuster over the measure by Senate Democrats.

A rarely used procedure known as the “previous question” rule was used to cut off debate on Wednesday morning, after which Senate Joint Resolution 39 passed by a 23-9 vote.

In the wake of the Supreme Court decision in Obergefell v. Hodges, striking down state laws prohibiting same-sex marriage, the amendment would prevent the government from punishing wedding-service vendors — such as florists, bakers and churches — who conscientiously object to taking part in same-sex weddings.

Pro-LGBT groups said the amendment will legally sanction discrimination against gay people.

“Laws that promote discrimination are anti-democratic, harm Missouri families, and — as we’ve learned in Indiana — are bad for our economy,” said Jeffrey Mittman, executive director of the ACLU of Missouri. “That is why so many Missourians, including clergy and business leaders, strongly oppose any effort — such as SJR 39 — that would seek to enshrine inequality in our Missouri Constitution.”

Proponents of the measure say it does not broadly allow refusal of service to gay people. They contend religious individuals and organizations should not be coerced into violating their consciences.

“No one should be compelled to make a work with their own hands that’s offensive to their beliefs,” state Sen. Bob Onder, who introduced the legislation, told the Kansas City Star.

The Senate has historically been reluctant to use the “previous question” rule, in which a simple majority can end filibusters and force a vote. The amendment still needs to be approved by the Senate one more time before proceeding to the statehouse.