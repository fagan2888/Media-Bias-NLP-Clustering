U.S. stocks rallied on Friday after a surprise interest-rate cut from the People’s Bank of China and a string of better-than-expected earnings from heavyweight tech companies.

The main indexes booked a fourth straight weekly gain with the majority of gains coming over the Thursday and Friday trading sessions.

Wall Street joined global equity investors in cheering a surprise interest-rate cut from the People’s Bank of China’s, which decided to take down its one-year deposit rate by 25 basis points to 1.5% and lower its one-year lending rate by 25 basis points to 4.35%.

The Chinese central bank’s decision to cut rates came on the heels of a strong hint from European Central Bank President Mario Draghi a day earlier that further easing is on the way.

A rally in major technology stocks, fueled by bumper earnings from heavyweight tech companies, Alphabet Inc., Microsoft Corp. and Amazon.com, lifted the main indexes on Friday.

The S&P 500 SPX, -0.02% closed 22.65 points, or 1.1%, higher at 2,075.16 and gained 2.1% over the week. The benchmark index turned positive for the year. On Friday the technology sector surged 3% while health-care stocks rallied 2%, lifting the broader index.

The Dow Jones Industrial Average DJIA, -0.13% rose 157.81 points, or 0.9%, to 17,646.97 and ended the week with a 2.5% gain.

The Nasdaq Composite COMP, +0.14% advanced 111.81 points, or 2.3%, to 5,031.86, and gained 3% over the week, its strongest weekly advance since July.

Michael Arone, chief investment strategist for State Street Global Advisors’ U.S. intermediary business, said “it is encouraging to see solid earnings results from tech, consumer discretionary and health-care companies,” looking beyond the easy-money moves by the ECB and China.

Read: The best six months for stocks is about to begin

The central-bank action and earnings lured investors into riskier assets such as equities, sending European markets sharply higher. Meanwhile, government bonds sold off. The yield on the 10-year Treasury note rose 5 basis points to 2.08%, implying some rotation from bonds to stocks.

With central banks in the spotlight, more attention will now turn to the Federal Open Market Committee meeting Oct. 27-28, and the Bank of Japan’s monetary policy meeting on Oct. 30.

Upbeat tech: Shares of Amazon AMZN, +0.93% jumped 6.2% after the e-commerce giant announced a surprise profit for the third quarter and forecast an operating profit for the holiday quarter.

Class A shares of Alphabet Inc. GOOGL, -0.16% jumped after the Google parent announced its first-ever stock buyback plan. It will spend more than $5 billion buying back shares. Shares rallied 5.6%.

Read: Are tech rebels Amazon and Alphabet finally growing up?

Microsoft MSFT, -0.44% reported better-than-expected profit and revenue late Thursday, and shares surged more than 10% Friday.

Twitter Inc. TWTR, -0.76% chief executive officer Jack Dorsey, said he would give nearly $200 million of his own shares—or 1% of the company—to the employee stock pool. Twitter shares rose 3.9%.

Other markets: The extra boost from China rate cuts added to already strong gains for the Stoxx Europe 600 index SXXP, -0.24% finishing 2% higher as the market coasted on the potential for more stimulus from the ECB. A flash reading of October manufacturing activity in the eurozone came in higher than expected.

Closing ahead of that PBOC move, Asian markets also saw sharp gains across the board, with the Shanghai Composite Index SHCOMP, -0.05% rising 1.2%. The Nikkei 225 index NIK, +0.37% closed up 2.1% as the Japanese yen USDJPY, +0.04% continued to weaken against the U.S. dollar.

The euro EURUSD, -0.0893% also remained on a weaker footing against the U.S. currency.

Gold prices US:GCZ5 reversed earlier gains and settled 0.3% lower at $1,162.80 an ounce and lost 1.7% over the week. Crude oil US:CLZ5 fell 1.7%, to settle at $44.60 a barrel and lost 5.6% over the week.

More from MarketWatch